<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KSY GROUPE | Corporate Showcase</title>
    
    <!-- Fonts: Playfair Display (Serif for luxury/corporate) and Inter (Sans for tech/readability) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons (SVG) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'ksy-white': '#FFFFFF',
                        'ksy-blue': '#0B1F3B', // Institutional Midnight Blue (60% dominance)
                        'ksy-gold': '#C9A24D', // Premium Matte Gold (10% dominance)
                        'ksy-black': '#000000',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    spacing: {
                        '128': '32rem',
                    },
                    boxShadow: {
                        'gold-glow': '0 4px 20px -5px rgba(201, 162, 77, 0.4)',
                        'blue-depth': '0 10px 30px -10px rgba(11, 31, 59, 0.5)',
                    }
                }
            }
        }
    </script>

    <style>
        /* Base styles */
        body {
            background-color: #FFFFFF;
            overflow-x: hidden;
        }

        /* Search input transition */
        .search-bar {
            width: 0;
            opacity: 0;
            transition: all 0.4s ease;
        }
        .search-bar.active {
            width: 240px;
            opacity: 1;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        /* Accordion Animation (Preserved for search functionality) */
        #inventory-accordion {
            transition: max-height 0.8s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.8s ease-in-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        #inventory-accordion.open {
            opacity: 1;
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(11, 31, 59, 0.05);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #C9A24D;
            border-radius: 4px;
        }

        /* Search Highlight Animation */
        @keyframes highlightPulse {
            0% { box-shadow: 0 0 0 0 rgba(201, 162, 77, 0); }
            50% { box-shadow: 0 0 0 10px rgba(201, 162, 77, 0.1); border-color: #C9A24D; }
            100% { box-shadow: 0 0 0 0 rgba(201, 162, 77, 0); }
        }
        .highlight-product {
            animation: highlightPulse 1.5s ease-out forwards;
        }
    </style>
</head>
<body class="text-ksy-blue antialiased selection:bg-ksy-gold selection:text-white">

    <!-- 
      PHASE 1 ARCHITECTURE:
      1. HERO CONTAINER (60% Blue): Video background, Header Overlay, Minimal Text.
      2. CTA STRIP (25% White): Functional buttons, Breathing space.
      3. FOOTER (Blue): Essential Trust Signals.
    -->

    <div class="relative w-full flex flex-col min-h-screen">
        
        <!-- SECTION 1: HERO VIDEO CONTAINER (The "Backdrop") -->
        <section class="relative w-full h-[85vh] bg-ksy-blue overflow-hidden group">
            
            <!-- VIDEO CONTAINER: Reserved for External Cinematic Exploded View -->
            <!-- Configured for Autoplay, Loop, Muted, No Interaction -->
            <div class="absolute inset-0 w-full h-full z-0 pointer-events-none">
                <video autoplay loop muted playsinline class="w-full h-full object-cover opacity-50 mix-blend-overlay">
                    <!-- Placeholder Stock Video (Engine/Technical) simulating Exploded View -->
                    <source src="https://assets.mixkit.co/videos/preview/mixkit-car-engine-working-loop-41824-large.mp4" type="video/mp4">
                    <!-- Fallback -->
                    <div class="w-full h-full bg-gradient-to-br from-ksy-blue to-black"></div>
                </video>
                <!-- INSTITUTIONAL OVERLAY: Enforces the 60% Blue Dominance & Text Legibility -->
                <div class="absolute inset-0 bg-ksy-blue/60 z-10"></div>
            </div>

            <!-- HEADER OVERLAY: Essential Elements Only -->
            <nav class="relative z-50 w-full px-6 py-8 lg:px-12 flex justify-between items-center border-b border-white/10">
                
                <!-- BRAND IDENTITY: SVG Vector Logo -->
                <div class="flex-shrink-0">
                    <a href="#" class="group flex items-center gap-3">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="transition-transform group-hover:scale-105">
                            <rect width="40" height="40" rx="2" fill="white"/>
                            <path d="M12 10V30" stroke="#0B1F3B" stroke-width="3" stroke-linecap="square"/>
                            <path d="M28 10L12 20L28 30" stroke="#0B1F3B" stroke-width="3" stroke-linecap="square"/>
                        </svg>
                        <div class="flex flex-col">
                            <span class="font-serif font-bold text-xl tracking-wide text-white leading-none">KSY</span>
                            <span class="text-[0.6rem] font-sans uppercase tracking-[0.2em] text-ksy-gold font-bold">Groupe</span>
                        </div>
                    </a>
                </div>

                <!-- PRECISION TOOL: Search (Core Header Element) -->
                <!-- No other navigation links allowed per strict constraints -->
                <div class="flex items-center gap-4 relative">
                    <div class="relative flex items-center justify-end">
                        <input type="text" id="searchInput" placeholder="Search parts by reference..." class="search-bar h-10 bg-white/10 backdrop-blur-md border border-white/20 rounded-full text-xs text-white focus:outline-none focus:border-ksy-gold focus:bg-white/20 font-medium placeholder-white/50">
                        <button id="searchBtn" class="p-2 text-white hover:text-ksy-gold transition-colors focus:outline-none" aria-label="Toggle Search">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                        </button>
                    </div>
                </div>
            </nav>

            <!-- HERO STATEMENT: The "Soul" -->
            <div class="relative z-20 h-full flex flex-col justify-center items-center text-center px-6 pb-20">
                <div class="inline-flex items-center gap-2 px-3 py-1 border border-white/10 rounded-full mb-8 backdrop-blur-sm bg-ksy-blue/30">
                    <span class="w-1.5 h-1.5 rounded-full bg-ksy-gold animate-pulse"></span>
                    <span class="text-[10px] uppercase tracking-widest font-bold text-white/80">Certified Engineering Logistics</span>
                </div>
                
                <h1 class="text-5xl lg:text-7xl font-serif font-bold text-white mb-6 leading-tight tracking-tight">
                    Precision in <br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-ksy-gold to-white">Motion.</span>
                </h1>
                
                <p class="text-white/60 font-light text-lg max-w-xl leading-relaxed">
                    We do not sell a car. We sell what is inside.
                </p>
                <div class="mt-4 flex items-center gap-2 text-[10px] uppercase tracking-widest text-ksy-gold opacity-80">
                    <span>Senegal</span>
                    <span class="w-1 h-1 rounded-full bg-ksy-gold"></span>
                    <span>Côte d'Ivoire</span>
                </div>
            </div>
        </section>

        <!-- SECTION 2: FUNCTIONAL CTA STRIP (25% White Balance) -->
        <section class="relative z-30 -mt-12 px-6 lg:px-12 max-w-5xl mx-auto w-full">
            <div class="bg-white shadow-blue-depth border-t-4 border-ksy-gold p-8 lg:p-12 rounded-sm flex flex-col md:flex-row items-center justify-between gap-8">
                
                <!-- CTA 1: Search Automotive Spare Parts -->
                <button onclick="toggleInventory()" class="w-full md:w-1/2 group relative h-24 bg-ksy-blue flex items-center justify-between px-8 overflow-hidden hover:bg-ksy-blue/90 transition-all rounded-sm shadow-lg">
                    <div class="flex flex-col items-start z-10">
                        <span class="text-[10px] uppercase text-white/50 tracking-widest font-bold mb-2">Catalog</span>
                        <span class="text-xl font-serif font-bold text-white group-hover:text-ksy-gold transition-colors">Search Spare Parts</span>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#C9A24D" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="z-10 transform group-hover:rotate-90 transition-transform duration-500"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.38a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                    <!-- Hover Effect -->
                    <div class="absolute inset-0 bg-white/5 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                </button>

                <!-- VISUAL DIVIDER -->
                <div class="hidden md:block w-px h-16 bg-gray-100"></div>

                <!-- CTA 2: Search Vehicle Models -->
                <button onclick="toggleInventory()" class="w-full md:w-1/2 group relative h-24 border border-gray-100 flex items-center justify-between px-8 hover:border-ksy-gold transition-all rounded-sm bg-gray-50/30">
                    <div class="flex flex-col items-start">
                        <span class="text-[10px] uppercase text-gray-400 tracking-widest font-bold mb-2">Compatibility</span>
                        <span class="text-xl font-serif font-bold text-ksy-blue">Search Vehicle Models</span>
                    </div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#0B1F3B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-[#C9A24D] transition-colors"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"></path><circle cx="7" cy="17" r="2"></circle><circle cx="17" cy="17" r="2"></circle><path d="M2 12h12"></path></svg>
                </button>

            </div>
        </section>

        <!-- HIDDEN INVENTORY ENGINE (Preserved for Search & CTA Logic) -->
        <section id="inventory-accordion" class="w-full relative z-20 bg-white">
            <div class="max-w-7xl mx-auto px-6 lg:px-12 py-20">
                <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-12">
                    <div class="space-y-2">
                        <h2 class="text-3xl font-serif font-bold text-ksy-blue">Inventory Access</h2>
                        <p class="text-sm text-gray-500 font-sans">Select brand or part category.</p>
                    </div>
                    <button onclick="toggleInventory()" class="text-xs uppercase font-bold text-gray-400 hover:text-ksy-blue flex items-center gap-2">
                        Close <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                    </button>
                </div>
                <div class="space-y-8">
                    <div class="w-full overflow-x-auto pb-2 custom-scrollbar"><div class="flex items-center gap-2 min-w-max" id="brand-filters"></div></div>
                    <div class="w-full overflow-x-auto pb-2 custom-scrollbar"><div class="flex items-center gap-3 min-w-max" id="model-filters"></div></div>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4" id="category-filters"></div>
                </div>
                <div class="mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="products-grid"></div>
            </div>
        </section>

        <!-- Spacer for visual balance -->
        <div class="flex-grow bg-white h-32"></div>

        <!-- SECTION 3: ULTRA-PREMIUM FOOTER -->
        <footer class="bg-ksy-blue text-white py-20 border-t border-white/5">
            <div class="max-w-7xl mx-auto px-6 lg:px-12 flex flex-col md:flex-row justify-between items-center md:items-start gap-16">
                
                <!-- Company Trust Anchor -->
                <div class="text-center md:text-left space-y-4 max-w-xs">
                    <div class="flex items-center justify-center md:justify-start gap-3 mb-2">
                         <svg width="24" height="24" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="40" height="40" rx="2" fill="white"/>
                            <path d="M12 10V30" stroke="#0B1F3B" stroke-width="3" stroke-linecap="square"/>
                            <path d="M28 10L12 20L28 30" stroke="#0B1F3B" stroke-width="3" stroke-linecap="square"/>
                        </svg>
                         <span class="font-serif font-bold text-2xl tracking-wide">KSY Groupe</span>
                    </div>
                    <div class="flex flex-col items-center md:items-start gap-2">
                        <address class="not-italic text-sm text-white/50 leading-relaxed font-light">
                            128 Premium Boulevard, Automotive District<br>
                            Dakar, Senegal
                        </address>
                        <a href="tel:+221338000000" class="text-sm font-bold text-white hover:text-ksy-gold transition-colors mt-2">+221 33 800 00 00</a>
                    </div>
                </div>

                <!-- Direct Actions -->
                <div class="flex flex-col items-center md:items-start gap-5">
                    <span class="text-[10px] uppercase tracking-widest text-ksy-gold font-bold">Priority Contact</span>
                    
                    <a href="https://wa.me/221338000000" class="group flex items-center gap-4 text-sm text-white hover:text-ksy-gold transition-colors bg-white/5 px-6 py-3 rounded-sm border border-white/5 hover:border-ksy-gold/30">
                        <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                        <span class="font-medium">WhatsApp Official</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white/30 group-hover:text-ksy-gold"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
                    </a>
                    
                    <a href="mailto:contact@ksygroupe.com" class="group flex items-center gap-4 text-sm text-white hover:text-ksy-gold transition-colors px-6">
                        <div class="w-2 h-2 rounded-full bg-ksy-gold"></div>
                        <span class="font-medium">contact@ksygroupe.com</span>
                    </a>
                </div>

                <!-- Socials -->
                <div class="flex items-center gap-6">
                    <a href="#" class="text-white/30 hover:text-ksy-gold transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
                    <a href="#" class="text-white/30 hover:text-ksy-gold transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
                </div>

            </div>
            
            <div class="mt-20 text-center border-t border-white/5 pt-8">
                <p class="text-[10px] text-white/20 uppercase tracking-widest font-medium">&copy; 2026 KSY Groupe. Institutional Showcase.</p>
            </div>
        </footer>

    </div>

    <!-- JAVASCRIPT: LOGIC PRESERVATION -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Lucide Icons
            lucide.createIcons();

            // --- DATA STRUCTURE (Preserved) ---
            const inventoryData = {
                brands: ['HYUNDAI', 'KIA', 'PEUGEOT', 'SUZUKI', 'JETOUR', 'BAIC', 'CHANGAN'],
                models: {
                    'HYUNDAI': ['Tucson', 'Santa Fe', 'Palisade', 'Elantra', 'Kona', 'Sonata'],
                    'KIA': ['Sportage', 'Sorento', 'Seltos', 'Picanto', 'Rio'],
                    'PEUGEOT': ['208', '308', '2008', '3008', '508', 'Partner', 'Rifter'],
                    'SUZUKI': ['Vitara', 'Swift', 'Alto', 'Ciaz', 'Baleno', 'Fronx'],
                    'JETOUR': ['X50', 'X70', 'T2', 'Dashing'],
                    'BAIC': ['X35', 'X55II', 'X7'],
                    'CHANGAN': ['CS55', 'Alsvin']
                },
                categories: [
                    { id: 'freinage', label: 'Freinage', icon: 'disc' },
                    { id: 'suspension', label: 'Suspension', icon: 'activity' },
                    { id: 'electricite', label: 'Electricité', icon: 'zap' },
                    { id: 'filtration', label: 'Filtration', icon: 'filter' },
                    { id: 'carrosserie', label: 'Carrosserie', icon: 'shield' },
                    { id: 'refroidissement', label: 'Refroidissement', icon: 'snowflake' }
                ],
                productTemplates: [
                    { prefix: 'Plaquettes de frein AR', cat: 'freinage', price: 25000 },
                    { prefix: 'Amortisseur AV', cat: 'suspension', price: 45000 },
                    { prefix: 'Filtre à air', cat: 'filtration', price: 8500 },
                    { prefix: 'Alternateur', cat: 'electricite', price: 120000 },
                    { prefix: 'Compresseur Clim', cat: 'refroidissement', price: 185000 },
                    { prefix: 'Pare-chocs AV', cat: 'carrosserie', price: 95000 }
                ]
            };

            let state = {
                brand: inventoryData.brands[0],
                model: inventoryData.models[inventoryData.brands[0]][0],
                category: 'all'
            };

            // --- ACCORDION & RENDER LOGIC ---
            const accordion = document.getElementById('inventory-accordion');
            
            // Global toggle function
            window.toggleInventory = () => {
                const isOpen = accordion.classList.contains('open');
                if (isOpen) {
                    accordion.style.maxHeight = null;
                    accordion.classList.remove('open');
                } else {
                    renderUI();
                    accordion.classList.add('open');
                    accordion.style.maxHeight = accordion.scrollHeight + "px";
                    // Scroll to it
                    setTimeout(() => {
                        const y = accordion.getBoundingClientRect().top + window.pageYOffset - 80;
                        window.scrollTo({top: y, behavior: 'smooth'});
                    }, 100);
                }
            };

            const brandContainer = document.getElementById('brand-filters');
            const modelContainer = document.getElementById('model-filters');
            const catContainer = document.getElementById('category-filters');
            const gridContainer = document.getElementById('products-grid');

            function renderUI() {
                renderBrands();
                renderModels();
                renderCategories();
                renderProducts();
                lucide.createIcons();
                if (accordion.classList.contains('open')) {
                    setTimeout(() => { accordion.style.maxHeight = accordion.scrollHeight + "px"; }, 50);
                }
            }

            function renderBrands() {
                brandContainer.innerHTML = inventoryData.brands.map(brand => {
                    const isActive = state.brand === brand;
                    const classes = isActive 
                        ? 'bg-ksy-blue text-white shadow-lg border-transparent' 
                        : 'bg-white text-ksy-blue/70 border-gray-200 hover:border-ksy-gold hover:text-ksy-gold';
                    return `<button onclick="setBrand('${brand}')" class="${classes} border px-4 py-2 rounded-sm text-xs font-bold tracking-wider transition-all duration-300 flex items-center gap-2 whitespace-nowrap">${brand}</button>`;
                }).join('');
            }

            function renderModels() {
                const currentModels = inventoryData.models[state.brand];
                modelContainer.innerHTML = currentModels.map(model => {
                    const isActive = state.model === model;
                    const activeStyle = isActive ? 'text-ksy-gold border-b-2 border-ksy-gold' : 'text-gray-400 hover:text-ksy-blue';
                    return `<button onclick="setModel('${model}')" class="${activeStyle} px-2 py-2 text-xs font-medium transition-colors whitespace-nowrap">${model}</button>`;
                }).join('');
            }

            function renderCategories() {
                catContainer.innerHTML = inventoryData.categories.map(cat => {
                    const isActive = state.category === cat.id;
                    const borderClass = isActive ? 'border-ksy-gold bg-ksy-gold/5' : 'border-gray-100 hover:border-ksy-blue/20';
                    const iconColor = isActive ? 'text-ksy-gold' : 'text-ksy-blue/40';
                    const textColor = isActive ? 'text-ksy-blue font-bold' : 'text-gray-500';
                    return `
                        <button onclick="setCategory('${cat.id}')" class="flex flex-col items-center justify-center p-3 border rounded-sm transition-all duration-300 ${borderClass} group">
                            <i data-lucide="${cat.icon}" class="w-5 h-5 mb-2 ${iconColor} group-hover:text-ksy-gold transition-colors"></i>
                            <span class="text-[10px] uppercase tracking-wide ${textColor}">${cat.label}</span>
                        </button>
                    `;
                }).join('');
            }

            function renderProducts() {
                const templates = state.category === 'all' 
                    ? inventoryData.productTemplates 
                    : inventoryData.productTemplates.filter(t => t.cat === state.category);

                const products = templates.map((tmpl, index) => {
                    return `
                        <div class="group bg-white border border-gray-100 hover:border-ksy-gold/30 hover:shadow-gold-glow transition-all duration-500 p-4 rounded-sm" id="product-${index}">
                            <div class="flex justify-between items-start mb-2">
                                <span class="bg-green-50 text-green-700 text-[10px] font-bold px-1 rounded-sm uppercase">In Stock</span>
                                <span class="text-[10px] text-gray-400 font-mono">Ref: ${index+1020}</span>
                            </div>
                            <h3 class="text-sm font-serif font-bold text-ksy-blue group-hover:text-ksy-gold transition-colors mb-1">${tmpl.prefix}</h3>
                            <p class="text-[10px] text-gray-500 uppercase tracking-wide mb-3">${state.brand} ${state.model}</p>
                            <div class="flex items-center justify-between mt-auto pt-2 border-t border-gray-50">
                                <span class="font-bold text-ksy-blue font-mono text-sm">${tmpl.price.toLocaleString()} FCFA</span>
                                <i data-lucide="plus-circle" class="w-4 h-4 text-gray-300 group-hover:text-ksy-gold"></i>
                            </div>
                        </div>
                    `;
                });
                gridContainer.innerHTML = products.length ? products.join('') : '<div class="col-span-3 text-center text-xs text-gray-400 py-4">No specific parts found.</div>';
            }

            window.setBrand = (brand) => { state.brand = brand; state.model = inventoryData.models[brand][0]; renderUI(); };
            window.setModel = (model) => { state.model = model; renderUI(); };
            window.setCategory = (catId) => { state.category = (state.category === catId) ? 'all' : catId; renderUI(); };

            // --- SEARCH LOGIC (Preserved & Adapted) ---
            const searchBtn = document.getElementById('searchBtn');
            const searchInput = document.getElementById('searchInput');

            searchBtn.addEventListener('click', () => {
                searchInput.classList.toggle('active');
                if(searchInput.classList.contains('active')) searchInput.focus();
            });

            function initSearchLogic() {
                const wrapper = searchInput.parentElement;
                const resultsPanel = document.createElement('div');
                resultsPanel.className = `absolute top-full right-0 mt-4 w-72 bg-white border border-gray-100 shadow-2xl rounded-sm overflow-hidden transition-all duration-300 z-50 opacity-0 translate-y-2 pointer-events-none`;
                resultsPanel.id = "searchResultsPanel";
                wrapper.appendChild(resultsPanel);

                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.toLowerCase().trim();
                    if (query.length < 2) { hideResults(); return; }
                    const results = performSearch(query);
                    renderResults(results);
                });

                function performSearch(query) {
                    let matches = [];
                    inventoryData.brands.forEach(brand => {
                        if (brand.toLowerCase().includes(query)) matches.push({ type: 'brand', label: brand, sub: 'Brand', icon: 'zap' });
                    });
                    inventoryData.productTemplates.forEach(prod => {
                        if (prod.prefix.toLowerCase().includes(query)) matches.push({ type: 'part', label: prod.prefix, sub: prod.cat, catId: prod.cat, icon: 'tool' });
                    });
                    return matches.slice(0, 5);
                }

                function renderResults(results) {
                    if (results.length === 0) {
                        resultsPanel.innerHTML = `<div class="p-4 text-center text-xs text-gray-400">No matches found.</div>`;
                        showResults(); return;
                    }
                    resultsPanel.innerHTML = '';
                    results.forEach(result => {
                        const item = document.createElement('div');
                        item.className = "flex items-center gap-3 p-3 border-b border-gray-50 hover:bg-ksy-blue/5 cursor-pointer transition-colors group";
                        item.innerHTML = `
                            <div class="w-8 h-8 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:text-ksy-gold transition-colors"><i data-lucide="${result.icon}" class="w-4 h-4"></i></div>
                            <div><div class="text-sm font-bold text-ksy-blue group-hover:text-ksy-gold">${result.label}</div><div class="text-[10px] text-gray-400 uppercase">${result.sub}</div></div>
                        `;
                        item.addEventListener('click', () => handleResultClick(result));
                        resultsPanel.appendChild(item);
                    });
                    lucide.createIcons();
                    showResults();
                }

                function handleResultClick(result) {
                    if(result.type === 'brand') { state.brand = result.label; state.model = inventoryData.models[result.label][0]; }
                    if(result.type === 'part') { state.category = result.catId; }
                    
                    if (!accordion.classList.contains('open')) window.toggleInventory();
                    else renderUI();
                    
                    hideResults();
                    searchInput.value = '';
                    setTimeout(() => {
                        const grid = document.getElementById('products-grid');
                        const y = grid.getBoundingClientRect().top + window.pageYOffset - 100;
                        window.scrollTo({top: y, behavior: 'smooth'});
                        grid.classList.add('highlight-product');
                        setTimeout(() => grid.classList.remove('highlight-product'), 1500);
                    }, 300);
                }

                function showResults() { resultsPanel.classList.remove('opacity-0', 'translate-y-2', 'pointer-events-none'); resultsPanel.classList.add('opacity-100', 'translate-y-0', 'pointer-events-auto'); }
                function hideResults() { resultsPanel.classList.add('opacity-0', 'translate-y-2', 'pointer-events-none'); resultsPanel.classList.remove('opacity-100', 'translate-y-0', 'pointer-events-auto'); }
                document.addEventListener('click', (e) => { if (!wrapper.contains(e.target)) hideResults(); });
            }
            initSearchLogic();
        });
    </script>
</body>
</html>